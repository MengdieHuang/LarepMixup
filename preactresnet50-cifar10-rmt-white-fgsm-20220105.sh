source ~/.bashrc
source /home/xieyi/anaconda3/bin/activate mmat

# Dual RepMixup
#---------------------FGSM 第1遍---------------------------------
# preactresnet50 cifar10 rmt cle+mix lr =0.001 beta(0.5, 0.5)
CUDA_VISIBLE_DEVICES=1 python -u tasklauncher-20220105.py run --mode defense --defense_mode rmt --beta_alpha 0.5 --attack_mode fgsm --attack_eps 0.3 --whitebox --exp_name preactresnet50-cifar10 --cla_model preactresnet50 --cla_model preactresnet50 --cla_network_pkl /home/maggie/mmat/result/train/cla-train/preactresnet50-cifar10/20210925/00003-testacc-84.74/train-cifar10-dataset/standard-trained-classifier-preactresnet50-on-clean-cifar10-epoch-0021.pkl --gen_model stylegan2ada --gen_network_pkl /home/maggie/mmat/result/train/gen-train/stylegan2ada-cifar10/20210702/00000/cifar10-auto1-batch64-ada-bgc-noresume/network-snapshot-023063.pkl --dataset cifar10 --projected_dataset /home/maggie/mmat/result/project/stylegan2ada-cifar10/20210913/00000/project-cifar10-trainset --adv_dataset /home/maggie/mmat/result/attack/fgsm/preactresnet50-cifar10/20210927/00000-attackacc-22.55/attack-cifar10-dataset/samples --batch_size 256 --epochs 40 --lr 0.001 >> /home/maggie/mmat/log/preactresnet50-cifar10-rmt/preactresnet50-cifar10-rmt-20220105.log 2>&1

# preactresnet50 cifar10 rmt cle+mix lr =0.001 beta(1.0, 1.0)
CUDA_VISIBLE_DEVICES=1 python -u tasklauncher-20220105.py run --mode defense --defense_mode rmt --beta_alpha 1.0 --attack_mode fgsm --attack_eps 0.3 --whitebox --exp_name preactresnet50-cifar10 --cla_model preactresnet50 --cla_model preactresnet50 --cla_network_pkl /home/maggie/mmat/result/train/cla-train/preactresnet50-cifar10/20210925/00003-testacc-84.74/train-cifar10-dataset/standard-trained-classifier-preactresnet50-on-clean-cifar10-epoch-0021.pkl --gen_model stylegan2ada --gen_network_pkl /home/maggie/mmat/result/train/gen-train/stylegan2ada-cifar10/20210702/00000/cifar10-auto1-batch64-ada-bgc-noresume/network-snapshot-023063.pkl --dataset cifar10 --projected_dataset /home/maggie/mmat/result/project/stylegan2ada-cifar10/20210913/00000/project-cifar10-trainset --adv_dataset /home/maggie/mmat/result/attack/fgsm/preactresnet50-cifar10/20210927/00000-attackacc-22.55/attack-cifar10-dataset/samples --batch_size 256 --epochs 40 --lr 0.001 >> /home/maggie/mmat/log/preactresnet50-cifar10-rmt/preactresnet50-cifar10-rmt-20220105.log 2>&1

# preactresnet50 cifar10 rmt cle+mix lr =0.001 beta(2.0, 2.0)
CUDA_VISIBLE_DEVICES=1 python -u tasklauncher-20220105.py run --mode defense --defense_mode rmt --beta_alpha 2.0 --attack_mode fgsm --attack_eps 0.3 --whitebox --exp_name preactresnet50-cifar10 --cla_model preactresnet50 --cla_model preactresnet50 --cla_network_pkl /home/maggie/mmat/result/train/cla-train/preactresnet50-cifar10/20210925/00003-testacc-84.74/train-cifar10-dataset/standard-trained-classifier-preactresnet50-on-clean-cifar10-epoch-0021.pkl --gen_model stylegan2ada --gen_network_pkl /home/maggie/mmat/result/train/gen-train/stylegan2ada-cifar10/20210702/00000/cifar10-auto1-batch64-ada-bgc-noresume/network-snapshot-023063.pkl --dataset cifar10 --projected_dataset /home/maggie/mmat/result/project/stylegan2ada-cifar10/20210913/00000/project-cifar10-trainset --adv_dataset /home/maggie/mmat/result/attack/fgsm/preactresnet50-cifar10/20210927/00000-attackacc-22.55/attack-cifar10-dataset/samples --batch_size 256 --epochs 40 --lr 0.001 >> /home/maggie/mmat/log/preactresnet50-cifar10-rmt/preactresnet50-cifar10-rmt-20220105.log 2>&1

#---------------------FGSM 第2遍---------------------------------
# preactresnet50 cifar10 rmt cle+mix lr =0.001 beta(0.5, 0.5)
CUDA_VISIBLE_DEVICES=1 python -u tasklauncher-20220105.py run --mode defense --defense_mode rmt --beta_alpha 0.5 --attack_mode fgsm --attack_eps 0.3 --whitebox --exp_name preactresnet50-cifar10 --cla_model preactresnet50 --cla_model preactresnet50 --cla_network_pkl /home/maggie/mmat/result/train/cla-train/preactresnet50-cifar10/20210925/00003-testacc-84.74/train-cifar10-dataset/standard-trained-classifier-preactresnet50-on-clean-cifar10-epoch-0021.pkl --gen_model stylegan2ada --gen_network_pkl /home/maggie/mmat/result/train/gen-train/stylegan2ada-cifar10/20210702/00000/cifar10-auto1-batch64-ada-bgc-noresume/network-snapshot-023063.pkl --dataset cifar10 --projected_dataset /home/maggie/mmat/result/project/stylegan2ada-cifar10/20210913/00000/project-cifar10-trainset --adv_dataset /home/maggie/mmat/result/attack/fgsm/preactresnet50-cifar10/20210927/00000-attackacc-22.55/attack-cifar10-dataset/samples --batch_size 256 --epochs 40 --lr 0.001 >> /home/maggie/mmat/log/preactresnet50-cifar10-rmt/preactresnet50-cifar10-rmt-20220105.log 2>&1

# preactresnet50 cifar10 rmt cle+mix lr =0.001 beta(1.0, 1.0)
CUDA_VISIBLE_DEVICES=1 python -u tasklauncher-20220105.py run --mode defense --defense_mode rmt --beta_alpha 1.0 --attack_mode fgsm --attack_eps 0.3 --whitebox --exp_name preactresnet50-cifar10 --cla_model preactresnet50 --cla_model preactresnet50 --cla_network_pkl /home/maggie/mmat/result/train/cla-train/preactresnet50-cifar10/20210925/00003-testacc-84.74/train-cifar10-dataset/standard-trained-classifier-preactresnet50-on-clean-cifar10-epoch-0021.pkl --gen_model stylegan2ada --gen_network_pkl /home/maggie/mmat/result/train/gen-train/stylegan2ada-cifar10/20210702/00000/cifar10-auto1-batch64-ada-bgc-noresume/network-snapshot-023063.pkl --dataset cifar10 --projected_dataset /home/maggie/mmat/result/project/stylegan2ada-cifar10/20210913/00000/project-cifar10-trainset --adv_dataset /home/maggie/mmat/result/attack/fgsm/preactresnet50-cifar10/20210927/00000-attackacc-22.55/attack-cifar10-dataset/samples --batch_size 256 --epochs 40 --lr 0.001 >> /home/maggie/mmat/log/preactresnet50-cifar10-rmt/preactresnet50-cifar10-rmt-20220105.log 2>&1

# preactresnet50 cifar10 rmt cle+mix lr =0.001 beta(2.0, 2.0)
CUDA_VISIBLE_DEVICES=1 python -u tasklauncher-20220105.py run --mode defense --defense_mode rmt --beta_alpha 2.0 --attack_mode fgsm --attack_eps 0.3 --whitebox --exp_name preactresnet50-cifar10 --cla_model preactresnet50 --cla_model preactresnet50 --cla_network_pkl /home/maggie/mmat/result/train/cla-train/preactresnet50-cifar10/20210925/00003-testacc-84.74/train-cifar10-dataset/standard-trained-classifier-preactresnet50-on-clean-cifar10-epoch-0021.pkl --gen_model stylegan2ada --gen_network_pkl /home/maggie/mmat/result/train/gen-train/stylegan2ada-cifar10/20210702/00000/cifar10-auto1-batch64-ada-bgc-noresume/network-snapshot-023063.pkl --dataset cifar10 --projected_dataset /home/maggie/mmat/result/project/stylegan2ada-cifar10/20210913/00000/project-cifar10-trainset --adv_dataset /home/maggie/mmat/result/attack/fgsm/preactresnet50-cifar10/20210927/00000-attackacc-22.55/attack-cifar10-dataset/samples --batch_size 256 --epochs 40 --lr 0.001 >> /home/maggie/mmat/log/preactresnet50-cifar10-rmt/preactresnet50-cifar10-rmt-20220105.log 2>&1

#---------------------OM FGSM 第1遍---------------------------------
# preactresnet50 defense omfgsm rmt beta(0.5,0.5)
CUDA_VISIBLE_DEVICES=1 python -u tasklauncher-20220105.py run --mode defense --defense_mode rmt --beta_alpha 0.5 --attack_mode om-fgsm --attack_eps 0.3 --blackbox --exp_name preactresnet50-cifar10 --cla_model preactresnet50 --cla_network_pkl /home/maggie/mmat/result/train/cla-train/preactresnet50-cifar10/20210925/00003-testacc-84.74/train-cifar10-dataset/standard-trained-classifier-preactresnet50-on-clean-cifar10-epoch-0021.pkl --gen_model stylegan2ada --gen_network_pkl /home/maggie/mmat/result/train/gen-train/stylegan2ada-cifar10/20210702/00000/cifar10-auto1-batch64-ada-bgc-noresume/network-snapshot-023063.pkl --dataset cifar10 --projected_dataset /home/maggie/mmat/result/project/stylegan2ada-cifar10/20210913/00000/project-cifar10-trainset --adv_dataset /home/maggie/mmat/result/attack/fgsm/preactresnet50-cifar10/20211010/00004-epsilon-0.3/attack-cifar10-dataset/latent-attack-samples --batch_size 256 --epochs 40 --lr 0.001 >> /home/maggie/mmat/log/preactresnet50-cifar10-rmt/preactresnet50-cifar10-rmt-omfgsm-20220105.log 2>&1

# preactresnet50 defense omfgsm rmt beta(1.0,1.0)
CUDA_VISIBLE_DEVICES=1 python -u tasklauncher-20220105.py run --mode defense --defense_mode rmt --beta_alpha 1.0 --attack_mode om-fgsm --attack_eps 0.3 --blackbox --exp_name preactresnet50-cifar10 --cla_model preactresnet50 --cla_network_pkl /home/maggie/mmat/result/train/cla-train/preactresnet50-cifar10/20210925/00003-testacc-84.74/train-cifar10-dataset/standard-trained-classifier-preactresnet50-on-clean-cifar10-epoch-0021.pkl --gen_model stylegan2ada --gen_network_pkl /home/maggie/mmat/result/train/gen-train/stylegan2ada-cifar10/20210702/00000/cifar10-auto1-batch64-ada-bgc-noresume/network-snapshot-023063.pkl --dataset cifar10 --projected_dataset /home/maggie/mmat/result/project/stylegan2ada-cifar10/20210913/00000/project-cifar10-trainset --adv_dataset /home/maggie/mmat/result/attack/fgsm/preactresnet50-cifar10/20211010/00004-epsilon-0.3/attack-cifar10-dataset/latent-attack-samples --batch_size 256 --epochs 40 --lr 0.001 >> /home/maggie/mmat/log/preactresnet50-cifar10-rmt/preactresnet50-cifar10-rmt-omfgsm-20220105.log 2>&1

# preactresnet50 defense omfgsm rmt beta(2.0,2.0)
CUDA_VISIBLE_DEVICES=1 python -u tasklauncher-20220105.py run --mode defense --defense_mode rmt --beta_alpha 2.0 --attack_mode om-fgsm --attack_eps 0.3 --blackbox --exp_name preactresnet50-cifar10 --cla_model preactresnet50 --cla_network_pkl /home/maggie/mmat/result/train/cla-train/preactresnet50-cifar10/20210925/00003-testacc-84.74/train-cifar10-dataset/standard-trained-classifier-preactresnet50-on-clean-cifar10-epoch-0021.pkl --gen_model stylegan2ada --gen_network_pkl /home/maggie/mmat/result/train/gen-train/stylegan2ada-cifar10/20210702/00000/cifar10-auto1-batch64-ada-bgc-noresume/network-snapshot-023063.pkl --dataset cifar10 --projected_dataset /home/maggie/mmat/result/project/stylegan2ada-cifar10/20210913/00000/project-cifar10-trainset --adv_dataset /home/maggie/mmat/result/attack/fgsm/preactresnet50-cifar10/20211010/00004-epsilon-0.3/attack-cifar10-dataset/latent-attack-samples --batch_size 256 --epochs 40 --lr 0.001 >> /home/maggie/mmat/log/preactresnet50-cifar10-rmt/preactresnet50-cifar10-rmt-omfgsm-20220105.log 2>&1

#---------------------OM FGSM 第2遍---------------------------------
# preactresnet50 defense omfgsm rmt beta(0.5,0.5)
CUDA_VISIBLE_DEVICES=1 python -u tasklauncher-20220105.py run --mode defense --defense_mode rmt --beta_alpha 0.5 --attack_mode om-fgsm --attack_eps 0.3 --blackbox --exp_name preactresnet50-cifar10 --cla_model preactresnet50 --cla_network_pkl /home/maggie/mmat/result/train/cla-train/preactresnet50-cifar10/20210925/00003-testacc-84.74/train-cifar10-dataset/standard-trained-classifier-preactresnet50-on-clean-cifar10-epoch-0021.pkl --gen_model stylegan2ada --gen_network_pkl /home/maggie/mmat/result/train/gen-train/stylegan2ada-cifar10/20210702/00000/cifar10-auto1-batch64-ada-bgc-noresume/network-snapshot-023063.pkl --dataset cifar10 --projected_dataset /home/maggie/mmat/result/project/stylegan2ada-cifar10/20210913/00000/project-cifar10-trainset --adv_dataset /home/maggie/mmat/result/attack/fgsm/preactresnet50-cifar10/20211010/00004-epsilon-0.3/attack-cifar10-dataset/latent-attack-samples --batch_size 256 --epochs 40 --lr 0.001 >> /home/maggie/mmat/log/preactresnet50-cifar10-rmt/preactresnet50-cifar10-rmt-omfgsm-20220105.log 2>&1

# preactresnet50 defense omfgsm rmt beta(1.0,1.0)
CUDA_VISIBLE_DEVICES=1 python -u tasklauncher-20220105.py run --mode defense --defense_mode rmt --beta_alpha 1.0 --attack_mode om-fgsm --attack_eps 0.3 --blackbox --exp_name preactresnet50-cifar10 --cla_model preactresnet50 --cla_network_pkl /home/maggie/mmat/result/train/cla-train/preactresnet50-cifar10/20210925/00003-testacc-84.74/train-cifar10-dataset/standard-trained-classifier-preactresnet50-on-clean-cifar10-epoch-0021.pkl --gen_model stylegan2ada --gen_network_pkl /home/maggie/mmat/result/train/gen-train/stylegan2ada-cifar10/20210702/00000/cifar10-auto1-batch64-ada-bgc-noresume/network-snapshot-023063.pkl --dataset cifar10 --projected_dataset /home/maggie/mmat/result/project/stylegan2ada-cifar10/20210913/00000/project-cifar10-trainset --adv_dataset /home/maggie/mmat/result/attack/fgsm/preactresnet50-cifar10/20211010/00004-epsilon-0.3/attack-cifar10-dataset/latent-attack-samples --batch_size 256 --epochs 40 --lr 0.001 >> /home/maggie/mmat/log/preactresnet50-cifar10-rmt/preactresnet50-cifar10-rmt-omfgsm-20220105.log 2>&1

# preactresnet50 defense omfgsm rmt beta(2.0,2.0)
CUDA_VISIBLE_DEVICES=1 python -u tasklauncher-20220105.py run --mode defense --defense_mode rmt --beta_alpha 2.0 --attack_mode om-fgsm --attack_eps 0.3 --blackbox --exp_name preactresnet50-cifar10 --cla_model preactresnet50 --cla_network_pkl /home/maggie/mmat/result/train/cla-train/preactresnet50-cifar10/20210925/00003-testacc-84.74/train-cifar10-dataset/standard-trained-classifier-preactresnet50-on-clean-cifar10-epoch-0021.pkl --gen_model stylegan2ada --gen_network_pkl /home/maggie/mmat/result/train/gen-train/stylegan2ada-cifar10/20210702/00000/cifar10-auto1-batch64-ada-bgc-noresume/network-snapshot-023063.pkl --dataset cifar10 --projected_dataset /home/maggie/mmat/result/project/stylegan2ada-cifar10/20210913/00000/project-cifar10-trainset --adv_dataset /home/maggie/mmat/result/attack/fgsm/preactresnet50-cifar10/20211010/00004-epsilon-0.3/attack-cifar10-dataset/latent-attack-samples --batch_size 256 --epochs 40 --lr 0.001 >> /home/maggie/mmat/log/preactresnet50-cifar10-rmt/preactresnet50-cifar10-rmt-omfgsm-20220105.log 2>&1

# Ternary RepMixup
#---------------------FGSM 第1遍---------------------------------
# preactresnet50 cifar10 rmt cle+mix lr =0.001 dirichlet(0.5, 0.5, 0.5) ternary convex mixup
CUDA_VISIBLE_DEVICES=1 python -u tasklauncher-20220105.py run --mode defense --defense_mode rmt --mix_w_num 3 --mix_mode basemixup --sample_mode dirichletsampler --dirichlet_gama 0.5 --attack_mode fgsm --attack_eps 0.3 --whitebox --exp_name preactresnet50-cifar10 --cla_model preactresnet50 --cla_network_pkl /home/maggie/mmat/result/train/cla-train/preactresnet50-cifar10/20210925/00003-testacc-84.74/train-cifar10-dataset/standard-trained-classifier-preactresnet50-on-clean-cifar10-epoch-0021.pkl --gen_model stylegan2ada --gen_network_pkl /home/maggie/mmat/result/train/gen-train/stylegan2ada-cifar10/20210702/00000/cifar10-auto1-batch64-ada-bgc-noresume/network-snapshot-023063.pkl --dataset cifar10 --projected_dataset /home/maggie/mmat/result/project/stylegan2ada-cifar10/20210913/00000/project-cifar10-trainset --adv_dataset /home/maggie/mmat/result/attack/fgsm/preactresnet50-cifar10/20210927/00000-attackacc-22.55/attack-cifar10-dataset/samples --batch_size 256 --epochs 40 --lr 0.001 >> /home/maggie/mmat/log/preactresnet50-cifar10-rmt/preactresnet50-cifar10-rmt-20220105.log 2>&1

# preactresnet50 cifar10 rmt cle+mix lr =0.001 dirichlet(1.0, 1.0, 1.0) ternary convex mixup
CUDA_VISIBLE_DEVICES=1 python -u tasklauncher-20220105.py run --mode defense --defense_mode rmt --mix_w_num 3 --mix_mode basemixup --sample_mode dirichletsampler --dirichlet_gama 1.0 --attack_mode fgsm --attack_eps 0.3 --whitebox --exp_name preactresnet50-cifar10 --cla_model preactresnet50 --cla_network_pkl /home/maggie/mmat/result/train/cla-train/preactresnet50-cifar10/20210925/00003-testacc-84.74/train-cifar10-dataset/standard-trained-classifier-preactresnet50-on-clean-cifar10-epoch-0021.pkl --gen_model stylegan2ada --gen_network_pkl /home/maggie/mmat/result/train/gen-train/stylegan2ada-cifar10/20210702/00000/cifar10-auto1-batch64-ada-bgc-noresume/network-snapshot-023063.pkl --dataset cifar10 --projected_dataset /home/maggie/mmat/result/project/stylegan2ada-cifar10/20210913/00000/project-cifar10-trainset --adv_dataset /home/maggie/mmat/result/attack/fgsm/preactresnet50-cifar10/20210927/00000-attackacc-22.55/attack-cifar10-dataset/samples --batch_size 256 --epochs 40 --lr 0.001 >> /home/maggie/mmat/log/preactresnet50-cifar10-rmt/preactresnet50-cifar10-rmt-20220105.log 2>&1

# preactresnet50 cifar10 rmt cle+mix lr =0.001 dirichlet(10.0, 10.0, 10.0) ternary convex mixup
CUDA_VISIBLE_DEVICES=1 python -u tasklauncher-20220105.py run --mode defense --defense_mode rmt --mix_w_num 3 --mix_mode basemixup --sample_mode dirichletsampler --dirichlet_gama 10.0 --attack_mode fgsm --attack_eps 0.3 --whitebox --exp_name preactresnet50-cifar10 --cla_model preactresnet50 --cla_network_pkl /home/maggie/mmat/result/train/cla-train/preactresnet50-cifar10/20210925/00003-testacc-84.74/train-cifar10-dataset/standard-trained-classifier-preactresnet50-on-clean-cifar10-epoch-0021.pkl --gen_model stylegan2ada --gen_network_pkl /home/maggie/mmat/result/train/gen-train/stylegan2ada-cifar10/20210702/00000/cifar10-auto1-batch64-ada-bgc-noresume/network-snapshot-023063.pkl --dataset cifar10 --projected_dataset /home/maggie/mmat/result/project/stylegan2ada-cifar10/20210913/00000/project-cifar10-trainset --adv_dataset /home/maggie/mmat/result/attack/fgsm/preactresnet50-cifar10/20210927/00000-attackacc-22.55/attack-cifar10-dataset/samples --batch_size 256 --epochs 40 --lr 0.001 >> /home/maggie/mmat/log/preactresnet50-cifar10-rmt/preactresnet50-cifar10-rmt-20220105.log 2>&1

#---------------------FGSM 第2遍---------------------------------
# preactresnet50 cifar10 rmt cle+mix lr =0.001 dirichlet(0.5, 0.5, 0.5) ternary convex mixup
CUDA_VISIBLE_DEVICES=1 python -u tasklauncher-20220105.py run --mode defense --defense_mode rmt --mix_w_num 3 --mix_mode basemixup --sample_mode dirichletsampler --dirichlet_gama 0.5 --attack_mode fgsm --attack_eps 0.3 --whitebox --exp_name preactresnet50-cifar10 --cla_model preactresnet50 --cla_network_pkl /home/maggie/mmat/result/train/cla-train/preactresnet50-cifar10/20210925/00003-testacc-84.74/train-cifar10-dataset/standard-trained-classifier-preactresnet50-on-clean-cifar10-epoch-0021.pkl --gen_model stylegan2ada --gen_network_pkl /home/maggie/mmat/result/train/gen-train/stylegan2ada-cifar10/20210702/00000/cifar10-auto1-batch64-ada-bgc-noresume/network-snapshot-023063.pkl --dataset cifar10 --projected_dataset /home/maggie/mmat/result/project/stylegan2ada-cifar10/20210913/00000/project-cifar10-trainset --adv_dataset /home/maggie/mmat/result/attack/fgsm/preactresnet50-cifar10/20210927/00000-attackacc-22.55/attack-cifar10-dataset/samples --batch_size 256 --epochs 40 --lr 0.001 >> /home/maggie/mmat/log/preactresnet50-cifar10-rmt/preactresnet50-cifar10-rmt-20220105.log 2>&1

# preactresnet50 cifar10 rmt cle+mix lr =0.001 dirichlet(1.0, 1.0, 1.0) ternary convex mixup
CUDA_VISIBLE_DEVICES=1 python -u tasklauncher-20220105.py run --mode defense --defense_mode rmt --mix_w_num 3 --mix_mode basemixup --sample_mode dirichletsampler --dirichlet_gama 1.0 --attack_mode fgsm --attack_eps 0.3 --whitebox --exp_name preactresnet50-cifar10 --cla_model preactresnet50 --cla_network_pkl /home/maggie/mmat/result/train/cla-train/preactresnet50-cifar10/20210925/00003-testacc-84.74/train-cifar10-dataset/standard-trained-classifier-preactresnet50-on-clean-cifar10-epoch-0021.pkl --gen_model stylegan2ada --gen_network_pkl /home/maggie/mmat/result/train/gen-train/stylegan2ada-cifar10/20210702/00000/cifar10-auto1-batch64-ada-bgc-noresume/network-snapshot-023063.pkl --dataset cifar10 --projected_dataset /home/maggie/mmat/result/project/stylegan2ada-cifar10/20210913/00000/project-cifar10-trainset --adv_dataset /home/maggie/mmat/result/attack/fgsm/preactresnet50-cifar10/20210927/00000-attackacc-22.55/attack-cifar10-dataset/samples --batch_size 256 --epochs 40 --lr 0.001 >> /home/maggie/mmat/log/preactresnet50-cifar10-rmt/preactresnet50-cifar10-rmt-20220105.log 2>&1

# preactresnet50 cifar10 rmt cle+mix lr =0.001 dirichlet(10.0, 10.0, 10.0) ternary convex mixup
CUDA_VISIBLE_DEVICES=1 python -u tasklauncher-20220105.py run --mode defense --defense_mode rmt --mix_w_num 3 --mix_mode basemixup --sample_mode dirichletsampler --dirichlet_gama 10.0 --attack_mode fgsm --attack_eps 0.3 --whitebox --exp_name preactresnet50-cifar10 --cla_model preactresnet50 --cla_network_pkl /home/maggie/mmat/result/train/cla-train/preactresnet50-cifar10/20210925/00003-testacc-84.74/train-cifar10-dataset/standard-trained-classifier-preactresnet50-on-clean-cifar10-epoch-0021.pkl --gen_model stylegan2ada --gen_network_pkl /home/maggie/mmat/result/train/gen-train/stylegan2ada-cifar10/20210702/00000/cifar10-auto1-batch64-ada-bgc-noresume/network-snapshot-023063.pkl --dataset cifar10 --projected_dataset /home/maggie/mmat/result/project/stylegan2ada-cifar10/20210913/00000/project-cifar10-trainset --adv_dataset /home/maggie/mmat/result/attack/fgsm/preactresnet50-cifar10/20210927/00000-attackacc-22.55/attack-cifar10-dataset/samples --batch_size 256 --epochs 40 --lr 0.001 >> /home/maggie/mmat/log/preactresnet50-cifar10-rmt/preactresnet50-cifar10-rmt-20220105.log 2>&1

#---------------------OM FGSM 第1遍---------------------------------
# preactresnet50 defense omfgsm rmt dirichletsampler(0.5,0.5,0.5)
CUDA_VISIBLE_DEVICES=1 python -u tasklauncher-20220105.py run --mode defense --defense_mode rmt --mix_w_num 3 --mix_mode basemixup --sample_mode dirichletsampler --dirichlet_gama 0.5 --attack_mode om-fgsm --attack_eps 0.3 --blackbox --exp_name preactresnet50-cifar10 --cla_model preactresnet50 --cla_network_pkl /home/maggie/mmat/result/train/cla-train/preactresnet50-cifar10/20210925/00003-testacc-84.74/train-cifar10-dataset/standard-trained-classifier-preactresnet50-on-clean-cifar10-epoch-0021.pkl --gen_model stylegan2ada --gen_network_pkl /home/maggie/mmat/result/train/gen-train/stylegan2ada-cifar10/20210702/00000/cifar10-auto1-batch64-ada-bgc-noresume/network-snapshot-023063.pkl --dataset cifar10 --projected_dataset /home/maggie/mmat/result/project/stylegan2ada-cifar10/20210913/00000/project-cifar10-trainset --adv_dataset /home/maggie/mmat/result/attack/fgsm/preactresnet50-cifar10/20211010/00004-epsilon-0.3/attack-cifar10-dataset/latent-attack-samples --batch_size 256 --epochs 40 --lr 0.001 >> /home/maggie/mmat/log/preactresnet50-cifar10-rmt/preactresnet50-cifar10-rmt-omfgsm-20220105.log 2>&1

# preactresnet50 defense omfgsm rmt dirichletsampler(1.0,1.0,1.0)
CUDA_VISIBLE_DEVICES=1 python -u tasklauncher-20220105.py run --mode defense --defense_mode rmt --mix_w_num 3 --mix_mode basemixup --sample_mode dirichletsampler --dirichlet_gama 1.0 --attack_mode om-fgsm --attack_eps 0.3 --blackbox --exp_name preactresnet50-cifar10 --cla_model preactresnet50 --cla_network_pkl /home/maggie/mmat/result/train/cla-train/preactresnet50-cifar10/20210925/00003-testacc-84.74/train-cifar10-dataset/standard-trained-classifier-preactresnet50-on-clean-cifar10-epoch-0021.pkl --gen_model stylegan2ada --gen_network_pkl /home/maggie/mmat/result/train/gen-train/stylegan2ada-cifar10/20210702/00000/cifar10-auto1-batch64-ada-bgc-noresume/network-snapshot-023063.pkl --dataset cifar10 --projected_dataset /home/maggie/mmat/result/project/stylegan2ada-cifar10/20210913/00000/project-cifar10-trainset --adv_dataset /home/maggie/mmat/result/attack/fgsm/preactresnet50-cifar10/20211010/00004-epsilon-0.3/attack-cifar10-dataset/latent-attack-samples --batch_size 256 --epochs 40 --lr 0.001 >> /home/maggie/mmat/log/preactresnet50-cifar10-rmt/preactresnet50-cifar10-rmt-omfgsm-20220105.log 2>&1

# preactresnet50 defense omfgsm rmt dirichletsampler(10.0,10.0,10.0)
CUDA_VISIBLE_DEVICES=1 python -u tasklauncher-20220105.py run --mode defense --defense_mode rmt --mix_w_num 3 --mix_mode basemixup --sample_mode dirichletsampler --dirichlet_gama 10.0 --attack_mode om-fgsm --attack_eps 0.3 --blackbox --exp_name preactresnet50-cifar10 --cla_model preactresnet50 --cla_network_pkl /home/maggie/mmat/result/train/cla-train/preactresnet50-cifar10/20210925/00003-testacc-84.74/train-cifar10-dataset/standard-trained-classifier-preactresnet50-on-clean-cifar10-epoch-0021.pkl --gen_model stylegan2ada --gen_network_pkl /home/maggie/mmat/result/train/gen-train/stylegan2ada-cifar10/20210702/00000/cifar10-auto1-batch64-ada-bgc-noresume/network-snapshot-023063.pkl --dataset cifar10 --projected_dataset /home/maggie/mmat/result/project/stylegan2ada-cifar10/20210913/00000/project-cifar10-trainset --adv_dataset /home/maggie/mmat/result/attack/fgsm/preactresnet50-cifar10/20211010/00004-epsilon-0.3/attack-cifar10-dataset/latent-attack-samples --batch_size 256 --epochs 40 --lr 0.001 >> /home/maggie/mmat/log/preactresnet50-cifar10-rmt/preactresnet50-cifar10-rmt-omfgsm-20220105.log 2>&1

#---------------------OM FGSM 第2遍---------------------------------
# preactresnet50 defense omfgsm rmt dirichletsampler(0.5,0.5,0.5)
CUDA_VISIBLE_DEVICES=1 python -u tasklauncher-20220105.py run --mode defense --defense_mode rmt --mix_w_num 3 --mix_mode basemixup --sample_mode dirichletsampler --dirichlet_gama 0.5 --attack_mode om-fgsm --attack_eps 0.3 --blackbox --exp_name preactresnet50-cifar10 --cla_model preactresnet50 --cla_network_pkl /home/maggie/mmat/result/train/cla-train/preactresnet50-cifar10/20210925/00003-testacc-84.74/train-cifar10-dataset/standard-trained-classifier-preactresnet50-on-clean-cifar10-epoch-0021.pkl --gen_model stylegan2ada --gen_network_pkl /home/maggie/mmat/result/train/gen-train/stylegan2ada-cifar10/20210702/00000/cifar10-auto1-batch64-ada-bgc-noresume/network-snapshot-023063.pkl --dataset cifar10 --projected_dataset /home/maggie/mmat/result/project/stylegan2ada-cifar10/20210913/00000/project-cifar10-trainset --adv_dataset /home/maggie/mmat/result/attack/fgsm/preactresnet50-cifar10/20211010/00004-epsilon-0.3/attack-cifar10-dataset/latent-attack-samples --batch_size 256 --epochs 40 --lr 0.001 >> /home/maggie/mmat/log/preactresnet50-cifar10-rmt/preactresnet50-cifar10-rmt-omfgsm-20220105.log 2>&1

# preactresnet50 defense omfgsm rmt dirichletsampler(1.0,1.0,1.0)
CUDA_VISIBLE_DEVICES=1 python -u tasklauncher-20220105.py run --mode defense --defense_mode rmt --mix_w_num 3 --mix_mode basemixup --sample_mode dirichletsampler --dirichlet_gama 1.0 --attack_mode om-fgsm --attack_eps 0.3 --blackbox --exp_name preactresnet50-cifar10 --cla_model preactresnet50 --cla_network_pkl /home/maggie/mmat/result/train/cla-train/preactresnet50-cifar10/20210925/00003-testacc-84.74/train-cifar10-dataset/standard-trained-classifier-preactresnet50-on-clean-cifar10-epoch-0021.pkl --gen_model stylegan2ada --gen_network_pkl /home/maggie/mmat/result/train/gen-train/stylegan2ada-cifar10/20210702/00000/cifar10-auto1-batch64-ada-bgc-noresume/network-snapshot-023063.pkl --dataset cifar10 --projected_dataset /home/maggie/mmat/result/project/stylegan2ada-cifar10/20210913/00000/project-cifar10-trainset --adv_dataset /home/maggie/mmat/result/attack/fgsm/preactresnet50-cifar10/20211010/00004-epsilon-0.3/attack-cifar10-dataset/latent-attack-samples --batch_size 256 --epochs 40 --lr 0.001 >> /home/maggie/mmat/log/preactresnet50-cifar10-rmt/preactresnet50-cifar10-rmt-omfgsm-20220105.log 2>&1

# preactresnet50 defense omfgsm rmt dirichletsampler(10.0,10.0,10.0)
CUDA_VISIBLE_DEVICES=1 python -u tasklauncher-20220105.py run --mode defense --defense_mode rmt --mix_w_num 3 --mix_mode basemixup --sample_mode dirichletsampler --dirichlet_gama 10.0 --attack_mode om-fgsm --attack_eps 0.3 --blackbox --exp_name preactresnet50-cifar10 --cla_model preactresnet50 --cla_network_pkl /home/maggie/mmat/result/train/cla-train/preactresnet50-cifar10/20210925/00003-testacc-84.74/train-cifar10-dataset/standard-trained-classifier-preactresnet50-on-clean-cifar10-epoch-0021.pkl --gen_model stylegan2ada --gen_network_pkl /home/maggie/mmat/result/train/gen-train/stylegan2ada-cifar10/20210702/00000/cifar10-auto1-batch64-ada-bgc-noresume/network-snapshot-023063.pkl --dataset cifar10 --projected_dataset /home/maggie/mmat/result/project/stylegan2ada-cifar10/20210913/00000/project-cifar10-trainset --adv_dataset /home/maggie/mmat/result/attack/fgsm/preactresnet50-cifar10/20211010/00004-epsilon-0.3/attack-cifar10-dataset/latent-attack-samples --batch_size 256 --epochs 40 --lr 0.001 >> /home/maggie/mmat/log/preactresnet50-cifar10-rmt/preactresnet50-cifar10-rmt-omfgsm-20220105.log 2>&1